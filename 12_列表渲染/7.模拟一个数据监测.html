<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>


</head>
<body>
<script type="text/javascript"  >
    let data ={
        name: '张三',
        age: 18
    }
    //创建一个监视的实例对象，用于监测data中属性的变化
    const obs = new Observer(data);
    console.log(obs)

    //准备一个vm实例对象
    let vm = {}
    vm._data = data = obs

    function Observer(obj){
        //汇总对象中所有属性形成一个数组
        const keys  = Object.keys(obj)
        //遍历
        keys.forEach((k)=>{
            Object.defineProperty(this,k,{
            get(){
                return obj[k]
            },
            set(newVal){
                obj[k] = newVal
            }
        })
        })
    }

</script>

</body>
</html>
